#include <stdint.h>
#include <stdlib.h>
#include <stdio.h>
#include <util/delay.h>
#include <avr/io.h>

//16 bit = 2x8bit = PORTL and PORTC
#define LED_DDR0   DDRL
#define LED_PORT0 PORTL
#define LED_DDR1   DDRC
#define LED_PORT1 PORTC
//ArduinoMega pin 22-37 = PA0-7,PC7-0 (different orders)
//or
//ArduinoMega pin 37-30,49-42 = PC7-0,PL7-0 (same order)

int main(void)
{
  //value is 16 bit, i.e. low and high part on 2 different ports
  //initialise value at 0
  unsigned char low=0;
  unsigned char high=0;
  //initialise port as LED output
  LED_DDR0=255;//LED.matrix output low
  LED_DDR1=255;//LED.matrix output high
  //change LED as bit matrix
  while(1)
  {
    LED_PORT0=low;//LED.matrix set
    LED_PORT1=high;//LED.matrix set
    _delay_ms(1000);//wait
    //next step
    if(low==255)
    {//increment high part
      low=0;//set back to zero
      ++high;//increment
    }//increment low part
    else
    {
      ++low;
    }
  }//while (i.e. infinite loop)
  return (0);
}

